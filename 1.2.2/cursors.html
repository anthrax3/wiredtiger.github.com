<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>WiredTiger: Cursors</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="wiredtiger.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->

<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo">
    <div class="logo"><a href="http://wiredtiger.com/"><img src="LogoFinal-header.png" alt="WiredTiger" /></a></div>
  </td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">
   &#160;<span id="projectnumber">Version 1.2.2</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>
<div class="banner">
  <a href="https://github.com/wiredtiger/wiredtiger">Fork me on GitHub</a>
  <a class="last" href="http://groups.google.com/group/wiredtiger-users">Join my user group</a>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li><a href="license.html"><span>License</span></a></li>
      <li><a href="https://github.com/wiredtiger/wiredtiger/downloads/"><span>Download</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('cursors.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Cursors </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Common operations in WiredTiger are performed using <a class="el" href="struct_w_t___c_u_r_s_o_r.html" title="A WT_CURSOR handle is the interface to a cursor.">WT_CURSOR</a> handles.</p>
<p>A cursor includes:</p>
<ul>
<li>a position within a data source</li>
<li>getter/setters for key and value fields</li>
<li>encoding of fields to store in the data source</li>
<li>methods to navigate within and iterate through the data</li>
</ul>
<p>See <a class="el" href="cursor_ops.html">Cursor operations</a> for a description of how to use cursors.</p>
<h2><a class="anchor" id="cursor_types"></a>
Cursor types</h2>
<p>The following are some of common builtin cursor types:</p>
<table class="doxtable">
<tr>
<th>URI</th><th>Type </th></tr>
<tr>
<td><code>colgroup:&lt;tablename&gt;.&lt;columnset&gt;</code></td><td>column group cursor </td></tr>
<tr>
<td><code>table:&lt;tablename&gt;</code></td><td>table cursor (key=table key, value=table value) </td></tr>
<tr>
<td><code>file:&lt;filename&gt;</code></td><td>file cursor (key=file key, value=file value) </td></tr>
<tr>
<td><code>index:&lt;tablename&gt;.&lt;indexname&gt;</code></td><td>index cursor (key=index key, value=table value) </td></tr>
<tr>
<td><code>statistics:[file</code><code>:&lt;filename&gt;]</code></td><td>database or file statistics (key=(int), value=(string)description, (string)value, (uint64_t)value) </td></tr>
</table>
<p>See <a class="el" href="data_sources.html">Data Sources</a> for the full list.</p>
<h2><a class="anchor" id="cursor_projections"></a>
Projections</h2>
<p>Cursors on tables, column groups and indices can return a subset of columns. This is done by listing the column names in parenthesis in the <code>uri</code> parameter to <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#afb5b4a69c2c5cafe411b2b04fdc1c75d" title="Open a cursor.">WT_SESSION::open_cursor</a>. Only the fields from the listed columns are returned by <a class="el" href="struct_w_t___c_u_r_s_o_r.html#af85364a5af50b95bbc46c82e72f75c01" title="Get the value for the current record.">WT_CURSOR::get_value</a>.</p>
<p>This is particularly useful with index cursors, because if all columns in the projection are available in the index (including primary key columns, which are the values of the index), there is no need to access any column groups.</p>
<h2><a class="anchor" id="cursor_raw"></a>
Raw mode</h2>
<p>Cursors can be configured for raw mode by specifying the <code>"raw"</code> config keyword to <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#afb5b4a69c2c5cafe411b2b04fdc1c75d" title="Open a cursor.">WT_SESSION::open_cursor</a>. In this mode, the methods <a class="el" href="struct_w_t___c_u_r_s_o_r.html#af19f6f9d9c7fc248ab38879032620b2f" title="Get the key for the current record.">WT_CURSOR::get_key</a>, <a class="el" href="struct_w_t___c_u_r_s_o_r.html#af85364a5af50b95bbc46c82e72f75c01" title="Get the value for the current record.">WT_CURSOR::get_value</a>, <a class="el" href="struct_w_t___c_u_r_s_o_r.html#ad1088d719df40babc1f57d086691ebdc" title="Set the key for the next operation.">WT_CURSOR::set_key</a> and <a class="el" href="struct_w_t___c_u_r_s_o_r.html#a27f7cbd0cd3e561f6a145704813ad64c" title="Set the value for the next operation.">WT_CURSOR::set_value</a> all take a single <a class="el" href="struct_w_t___i_t_e_m.html" title="A raw item of data to be managed.">WT_ITEM</a> in the variable-length argument list instead of a separate argument for each column.</p>
<p>For <a class="el" href="struct_w_t___c_u_r_s_o_r.html#af19f6f9d9c7fc248ab38879032620b2f" title="Get the key for the current record.">WT_CURSOR::get_key</a> and <a class="el" href="struct_w_t___c_u_r_s_o_r.html#af85364a5af50b95bbc46c82e72f75c01" title="Get the value for the current record.">WT_CURSOR::get_value</a> in raw mode, the <a class="el" href="struct_w_t___i_t_e_m.html" title="A raw item of data to be managed.">WT_ITEM</a> can be split into columns by calling <a class="el" href="group__wt.html#ga1db8298185374dbb61b398a4e9a3d1c8" title="Unpack a structure from a buffer.">wiredtiger_struct_unpack</a> with the cursor's <code>key_format</code> or <code>value_format</code>, respectively. For <a class="el" href="struct_w_t___c_u_r_s_o_r.html#ad1088d719df40babc1f57d086691ebdc" title="Set the key for the next operation.">WT_CURSOR::set_key</a> and <a class="el" href="struct_w_t___c_u_r_s_o_r.html#a27f7cbd0cd3e561f6a145704813ad64c" title="Set the value for the next operation.">WT_CURSOR::set_value</a> in raw mode, the <a class="el" href="struct_w_t___i_t_e_m.html" title="A raw item of data to be managed.">WT_ITEM</a> should be equivalent to calling <a class="el" href="group__wt.html#ga58d055cb4d054715bebd58a2cb713b2d" title="Pack a structure into a buffer.">wiredtiger_struct_pack</a> for the cursor's <code>key_format</code> or <code>value_format</code>, respectively. </p>
</div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="index.html">Reference Guide</a>      </li>
      <li class="navelem"><a class="el" href="programming.html">Writing WiredTiger applications</a>      </li>

    <li class="footer">Copyright (c) 2008-2012 WiredTiger, Inc.  All rights reserved.  Contact <a href="mailto:info@wiredtiger.com">info@wiredtiger.com</a> for more information.</li>
   </ul>
 </div>


</body>
</html>
