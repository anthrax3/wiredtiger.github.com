<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>WiredTiger: Compressors</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="wiredtiger.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://wiredtiger.com/"><img alt="Logo" src="LogoFinal-header.png" alt="WiredTiger" /></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">
   &#160;<span id="projectnumber">Version 1.3.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<div class="banner">
  <a href="https://github.com/wiredtiger/wiredtiger/downloads#uploaded_downloads">Download</a>
  <a href="https://github.com/wiredtiger/wiredtiger">Fork me on GitHub</a>
  <a class="last" href="http://groups.google.com/group/wiredtiger-users">Join my user group</a>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li><a href="license.html"><span>License</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('compression.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Compressors </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This section explains how to use compression engines with WiredTiger, including the builtin support for bzip2 and snappy.</p>
<h1><a class="anchor" id="bzip2"></a>
Using bzip2 compression</h1>
<p>To use the builtin <a href="http://www.bzip.org/">bzip2</a> compression, first verify that bzip2 is installed on your system. On most UNIX and Linux variants, there will be a <code>bzlib.h</code> header file in the include directory for the compiler, as well as a library file available, often named <code>libbz2.so</code>, in <code>/usr/lib</code>. If these are available, you can simply enable bzip2 by using the <code>&ndash;enable-bzip2</code> option when running configure.</p>
<p>If you have installed your own version of bzip2 in a non-standard location, you'll need to modify the <code>CPPFLAGS</code> and <code>LDFLAGS</code> to indicate these locations. For example, with bzip2 includes and libraries installed in <code>/usr/local/include</code> and <code>/usr/local/lib</code>, run configure as:</p>
<div class="fragment"><div class="line">cd build_posix</div>
<div class="line">../dist/configure --enable-bzip2 CPPFLAGS=<span class="stringliteral">&quot;-I/usr/local/include&quot;</span> LDFLAGS=<span class="stringliteral">&quot;-L/usr/local/include&quot;</span></div>
</div><!-- fragment --><p>After building, check that this compressor is built and working by running the compression part of the test suite:</p>
<div class="fragment"><div class="line">cd build_posix</div>
<div class="line">python ../test/suite/run.py compress</div>
</div><!-- fragment --><p>Verify that the bzip2 part of the test passes and was not skipped.</p>
<h1><a class="anchor" id="snappy"></a>
Using snappy compression</h1>
<p>Google's <a href="http://code.google.com/p/snappy/">snappy</a> compressor is generally not installed by default on UNIX and Linux distributions, so you will need to download, build and install it first. To configure WiredTiger to include snappy, use the <code>&ndash;enable-snappy</code> option along with <code>CPPFLAGS</code> and <code>LDFLAGS</code>. For example, with snappy includes and libraries installed in <code>/usr/local/include</code> and <code>/usr/local/lib</code>, run configure as:</p>
<div class="fragment"><div class="line">cd build_posix</div>
<div class="line">../dist/configure --enable-snappy CPPFLAGS=<span class="stringliteral">&quot;-I/usr/local/include&quot;</span> LDFLAGS=<span class="stringliteral">&quot;-L/usr/local/include&quot;</span></div>
</div><!-- fragment --><p>After building, check that this compressor is built and working by running the compression part of the test suite:</p>
<div class="fragment"><div class="line">cd build_posix</div>
<div class="line">python ../test/suite/run.py compress</div>
</div><!-- fragment --><p>Verify that the snappy part of the test passes and was not skipped.</p>
<h1><a class="anchor" id="custom"></a>
Custom compression engines</h1>
<p>WiredTiger may be extended by adding custom compression engines; see <a class="el" href="struct_w_t___c_o_m_p_r_e_s_s_o_r.html">WT_COMPRESSOR</a> for more information. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">Reference Guide</a></li><li class="navelem"><a class="el" href="programming.html">Writing WiredTiger applications</a></li>
    <li class="footer">Copyright (c) 2008-2012 WiredTiger, Inc.  All rights reserved.  Contact <a href="mailto:info@wiredtiger.com">info@wiredtiger.com</a> for more information.</li>
  </ul>
</div>
</body>
</html>
